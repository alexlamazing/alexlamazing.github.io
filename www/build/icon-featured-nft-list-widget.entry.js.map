{"file":"icon-featured-nft-list-widget.entry.esm.js","mappings":";;;;AAQO,MAAM,eAAe,GAA+B,CAAC,EAAE,UAAU,EAAE;EACxE,QACE,WAAK,KAAK,EAAC,OAAO;IAChB,WAAK,KAAK,EAAC,WAAW;MACpB,WAAK,KAAK,EAAC,WAAW,EAAC,GAAG,EAAE,UAAU,CAAC,QAAQ,EAAE,GAAG,EAAC,UAAU,GAAG,CAC9D;IACN,WAAK,KAAK,EAAC,UAAU;MACnB,YAAM,KAAK,EAAC,UAAU,IAAE,UAAU,CAAC,IAAI,CAAQ;MAC/C,WAAK,KAAK,EAAC,WAAW;QACpB,4BAAS;QACT,WACE,KAAK,EAAC,UAAU,EAChB,GAAG,EAAE,UAAU,CAAC,YAAY,CAAC,QAAQ,EACrC,GAAG,EAAC,KAAK,GACT;QACF,gBACG,YAAY,CAAC,UAAU,CAAC,UAAU,EAAE,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC,CAC1D,CACH,CACF,CACF,EACN;AACJ,CAAC;;AC9BD,MAAM,QAAQ,GAAG,ohCAAohC;;MCYxhC,qBAAqB;;;iBACP,CAAC;qBAEI,KAAK;;2BAEY,IAAI;;EAEnD,iBAAiB;IACf,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;GACvB;EAED,MAAM,iBAAiB;IACrB,IAAI;MACF,MAAM,eAAe,IAAI,MAAM,QAAQ,CAAC,iBAAiB,CAAC;QACxD,KAAK,EAAE,IAAI,CAAC,KAAK;OAClB,CAAC,CAAgB,CAAC;MACnB,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;KACxC;IAAC,OAAO,KAAK,EAAE;MACd,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;MAC/B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;KACpB;IACD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;GACxB;EAED,MAAM;IACJ,MAAM,WAAW,GAAoBA,IAAM,CACzC,aAAa,EACb,IAAI,CAAC,eAAe,CACrB,CAAC;IAEF,QACE,WAAK,KAAK,EAAC,WAAW,IACpB,EAAC,YAAY,IACX,KAAK,EAAE,OAAO,EACd,GAAG,EAAE,GAAG,uBAAoB,SAAS,GACrC,EACD,IAAI,CAAC,SAAS,IAAI,WAAK,KAAK,EAAC,SAAS,iBAAiB,EACvD,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,IAAI,WAAK,KAAK,EAAC,OAAO,YAAY,EAC/D,CAAC,IAAI,CAAC,SAAS,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,KAC1C,WAAK,KAAK,EAAC,OAAO,cAAc,CACjC,EACA,CAAC,IAAI,CAAC,SAAS,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,KACxC,WAAK,KAAK,EAAC,gBAAgB,IACzB,WAAK,KAAK,EAAC,aAAa,IACrB,WAAW;MACV,WAAW,CAAC,GAAG,CAAC,UAAU,KACxB,EAAC,eAAe,IAAC,UAAU,EAAE,UAAU,GAAI,CAC5C,CAAC,CACA,CACF,CACP,CACG,EACN;GACH;;;;;;","names":["R.prop"],"sources":["src/components/icon-featured-nft-list/FeaturedNftList/index.tsx","src/components/icon-featured-nft-list/index.scss?tag=icon-featured-nft-list-widget&encapsulation=shadow","src/components/icon-featured-nft-list/index.tsx"],"sourcesContent":["import { FunctionalComponent, h } from '@stencil/core';\nimport { NFTCollection } from 'src/types/Crypto.type';\nimport { formatNumber } from 'src/utils/number';\n\ntype Props = {\n  collection: NFTCollection;\n};\n\nexport const FeaturedNftList: FunctionalComponent<Props> = ({ collection }) => {\n  return (\n    <div class=\"inner\">\n      <div class=\"nft-image\">\n        <img class=\"nft-image\" src={collection.imageUrl} alt=\"nft icon\" />\n      </div>\n      <div class=\"info-box\">\n        <span class=\"text-box\">{collection.name}</span>\n        <div class=\"price-box\">\n          <p>底價</p>\n          <img\n            class=\"eth-icon\"\n            src={collection.paymentToken.imageUrl}\n            alt=\"ETH\"\n          />\n          <span>\n            {formatNumber(collection.floorPrice, { nullPlaceholder: '--' })}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n};\n","@import 'src/global/variables';\n@import 'src/global/mixins';\n\n.loading {\n  @include flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n  font-size: 24px;\n}\n\n.container {\n  min-width: 310px;\n  max-width: 1256px;\n  font-size: 16px;\n}\n\n.nft-wrapper {\n  display: inline-flex;\n  width: 100%;\n  justify-content: start;\n  margin-bottom: 17px;\n}\n\n.inner {\n  display: block;\n  margin: 0 8px;\n  max-width: 233.6px;\n  border-radius: 5% 5% 5% 5%;\n  box-shadow: 0 0 10px rgba(200, 200, 200);\n  border-collapse: collapse;\n  text-decoration: none;\n  font-family: 'PingFang HK';\n\n  &:first-child {\n    margin-left: 12px;\n  }\n\n  &:last-child {\n    margin-right: 12px;\n  }\n}\n\n.nft-image {\n  width: 233.6px;\n  height: 224px;\n  border-radius: 5% 5% 0 0;\n  margin-bottom: 0;\n}\n\n.info-box {\n  padding: 16px 0 16px 8px;\n  margin-top: 0;\n  border-radius: 0 0 10px 10px;\n  color: black;\n}\n\n.price-box {\n  display: flex;\n  font-size: 14px;\n  margin-top: 3px;\n  align-items: center;\n}\n\n.text-box {\n  @include lineClamp(1);\n}\n\n.eth-icon {\n  max-width: 14px;\n  max-height: 9px;\n  margin: 0 4px;\n}\n\n.scroll-wrapper {\n  overflow-x: scroll;\n  padding-right: 4px;\n}\n\n.scroll-wrapper::-webkit-scrollbar {\n  display: none;\n}\n","import { Component, h, Prop, State } from '@stencil/core';\nimport { WidgetHeader } from '../WidgetHeader';\nimport services from 'src/services';\nimport * as R from 'ramda';\nimport { FeaturedNftList } from './FeaturedNftList';\nimport { NFTCollection, NftTrending } from 'src/types/Crypto.type';\n\n@Component({\n  tag: 'icon-featured-nft-list-widget',\n  styleUrl: 'index.scss',\n  shadow: true,\n})\nexport class TrendingNftListWidget {\n  @Prop() limit?: number = 5;\n\n  @State() isLoading: boolean = false;\n  @State() error: Error;\n  @State() featuredNFTList: NftTrending | null = null;\n\n  connectedCallback() {\n    this.isLoading = true;\n  }\n\n  async componentWillLoad() {\n    try {\n      const featuredNftData = (await services.fetchFeaturedNfts({\n        limit: this.limit,\n      })) as NftTrending;\n      this.featuredNFTList = featuredNftData;\n    } catch (error) {\n      console.error('error:', error);\n      this.error = error;\n    }\n    this.isLoading = false;\n  }\n\n  render() {\n    const collections: NFTCollection[] = R.prop(\n      'collections',\n      this.featuredNFTList,\n    );\n\n    return (\n      <div class=\"container\">\n        <WidgetHeader\n          title={'精選NFT'}\n          url={`${process.env.BASE_URL}/crypto`}\n        />\n        {this.isLoading && <div class=\"loading\">Loading...</div>}\n        {!this.isLoading && this.error && <div class=\"error\">Error</div>}\n        {!this.isLoading && collections.length === 0 && (\n          <div class=\"empty\">No data</div>\n        )}\n        {!this.isLoading && collections.length > 0 && (\n          <div class=\"scroll-wrapper\">\n            <div class=\"nft-wrapper\">\n              {collections &&\n                collections.map(collection => (\n                  <FeaturedNftList collection={collection} />\n                ))}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n"],"version":3}